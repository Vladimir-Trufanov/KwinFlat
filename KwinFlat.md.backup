## KwinFlat - близкий всем, сайт умного хозяйства на контроллере ESP32-CAM

### Kwinflat.ru - сайт умного хозяйства на контроллере ESP32-CAM для управления светодиодом, снятия показаний температуры, влажности и формирования потока изображений наблюдаемого объекта

### Kvizzy40 - исполнительное приложение умного хозяйства на контроллере ESP32-CAM для управления светодиодом, снятия показаний температуры, влажности и формирования потока изображений наблюдаемого объекта

![](BP1/kwf0.png)

### Осенние тезисы 2024-09-30

- Страница мониторинга "***View***" и два сервера: "***Lead***" - управления, "***State***" - регистрации изменений состояния умного хозяйства и значений датчиков. Ознакомительная (домашняя) страница - "***Meet***".

- ***View*** - cтраница мониторинга запускается после регистрацию в обществе "VK". Сессии пользователей регистрируются в SQLite3-базе данных ***kwiflath.db3***.

- ***State*** - сервер регистрации изменений состояния доступен лишь контроллерам умного хозяйства. Все изменения регистрируются в SQLite3-базе данных ***kvizzy.db3***.

### Тезисы v4.x.x 2025-03-29

- Корневая страница ***kwinflat.ru*** - ***C:/KwinFlat/www***:

```
Структура каталогов:
  /         - корневая страница с index.php и iniWorkSpace.php  (диспетчер страниц);
  /Meet40   - главная с домашняя страница v4.x.x;
  /Update40 - главная страница администратора;
  /View40   - гостевая страница сайта;
  /State40  - страница приема и передачи данных в базу;
  /Lead40   - страница выявления команд управления умным хозяйством
  /Stream40 - страница регистрации потока изображений
```

- **Порядок взаимодействия**: 

а) для подключения к системе хозяйства контроллер выполняет пинг сервера и отправляет сообщение серверу ***State*** о своем включении в систему, а также передает сведения о текущем состоянии своих устройств и показания датчиков в JSON-формате; 

б) ***State40*** принимает от контроллера изменения состояния умного хозяйства, значений датчиков и заносит данные в базу kvizzy40.db3; 

в) контроллер регулярно запрашивает команды управления через страницу Lead;

- **Отладка скетчей контроллеров**. Вводятся определения для отладки скетчей контроллеров, по типу:

a) #define debugStackSize 0  // 1 - выполнить контроль размера стека

### Библиография

#### [Таймеры Html5+JS](https://thecode.media/count-timer/)

#### [Timers](https://dev.w3.org/html5/spec-LC/timers.html)

#### [Простой таймер](https://sky.pro/wiki/html/sozdaem-taymer-obratnogo-otscheta-na-js-i-html-bez-css/)
