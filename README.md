## KwinFlat - близкий всем

***Kvizzy*** - система контроллеров, датчиков и исполнительных устройств моего, стремящегося к умному, хозяйства (нижний уровень).

***Kwinflat*** - сайт мониторинга и управления моим  хозяйством (верхний уровень).

![](BP1/kwf0.png)

### Осенние тезисы 2024-09-30

- Тема "***как проверить расчет льгот по ЖКУ***" закрывается и помещается в архив.

- Далее "***мониторинг и управление моим хозяйством***".

- Страница мониторинга "***View***" и два сервера: "***Lead***" - управления, "***State***" - регистрации изменений состояния моего хозяйства и значений датчиков. Ознакомительная (домашняя) страница - "***Meet***".

- Сейчас корневая страница -  ***kwinflat.ru/Dacha***, с 2025.01.07 корневая страница ***kwinflat.ru*** и начинается ведение системы в обществе ***VK***.

- ***View*** - cтраница мониторинга запускается после регистрацию в обществе "VK". Сессии пользователей регистрируются в SQLite3-базе данных ***kwiflath.db3***.

- ***State*** - сервер регистрации изменений состояния доступен лишь контроллерам моего хозяйства. Все изменения регистрируются в SQLite3-базе данных ***kvizzy.db3***.

- **Порядок взаимодействия**: 

а) для подключения к системе хозяйства контроллер выполняет пинг сервера и отправляет сообщение серверу ***State*** о своем включении в систему, а также передает сведения о текущем состоянии своих устройств и показания датчиков в JSON-формате; 

б) ***State*** заносит данные в базу kvizzy.db3; 

в) затем контроллер регулярно, как правило, один раз в секунду передает изменения в состоянии и показаниях датчиков;

г)

- **Отладка скетчей контроллеров**. Вводятся определения для отладки скетчей контроллеров, по типу:

a) #define debugStackSize 0  // 1 - выполнить контроль размера стека

### Библиография

#### [Таймеры Html5+JS](https://thecode.media/count-timer/)

#### [Timers](https://dev.w3.org/html5/spec-LC/timers.html)

#### [Простой таймер](https://sky.pro/wiki/html/sozdaem-taymer-obratnogo-otscheta-na-js-i-html-bez-css/)
